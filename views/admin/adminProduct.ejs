<%- include('../admin/layouts/admin-header.ejs') %>

<style>
  .card {
    margin: 25px;
  }
</style>
<div class="col-lg-8 grid-margin stretch-card">
  <div class="card">
    <div class="card-body">
      <h4 class="card-title">Basic form elements</h4>
      <p class="card-description">Basic form elements</p>
      <form
        action="/admin/products/add-product"
        method="POST"
        class="forms-sample"
        enctype="multipart/form-data"
      >
        <div class="form-group">
          <label for="exampleInputName1">Product</label>
          <input
            type="text"
            class="form-control"
            id="exampleInputName1"
            name="productname"
            placeholder="Product"
            required
          />
        </div>
        <div class="form-group">
          <label for="exampleInputEmail3">KG</label>
          <input
            type="number"
            name="kg"
            class="form-control"
            id="exampleInputEmail3"
            placeholder="KG"
            required
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPassword4">Flavor</label>
          <input
            type="text"
            name="flavor"
            class="form-control"
            id="exampleInputPassword4"
            placeholder="Flavor"
            required
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPassword4">Quantity</label>
          <input
            type="number"
            name="Quantity"
            class="form-control"
            id="exampleInputPassword4"
            placeholder="Quantity"
            required
          />
        </div>
        <div class="form-group">
          <label>Product image</label>
          <div class="card-body">
            <div class="input-upload">
              <input
                type="file"
                multiple
                class="form-control block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input"
                name="images"
                type="file"
                id="file"
                onchange="return fileValidation()"
                multiple
              />
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleInputCity1">Price</label>
          <input
            type="text"
            class="form-control"
            name="price"
            id="exampleInputCity1"
            placeholder="Price"
            required
          />
        </div>
        <div class="form-group">
          <label for="exampleTextarea1">Description</label>
          <textarea
            class="form-control"
            name="description"
            id="exampleTextarea1"
            rows="4"
            required
          ></textarea>
        </div>
        <div class="form-group">
          <label for="exampleSelectGender">catagory</label>
          <select
            class="form-control"
            name="catagory_id"
            id="exampleSelectGender"
          >
            <option value="" disabled selected>Select</option>
            <% if (catData.categories) { %> <% for (let category of
            catData.categories) { %>
            <option value="<%= category._id %>"><%= category.name %></option>
            <% } %> <% } %>
          </select>
        </div>
        <button type="submit" class="btn btn-primary me-2">Submit</button>
        <button class="btn btn-light">Cancel</button>
      </form>
    </div>
  </div>
</div>
<script>
  function fileValidation() {
    var fileInput = document.getElementById("file");
    var filePath = fileInput.value;
    var allowedExtensions = /(\.jpg|\.jpeg|\.png)$/i;
    if (!allowedExtensions.exec(filePath)) {
      alert("Invalid file type");
      fileInput.value = "";
      return false;
    }
  }
</script>
